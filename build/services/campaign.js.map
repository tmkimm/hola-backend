{"version":3,"file":"campaign.js","sourceRoot":"/","sources":["services/campaign.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,+DAAyC;AAIzC;IACE,yBACY,aAA6B,EAC7B,kBAAuC;QADvC,kBAAa,GAAb,aAAa,CAAgB;QAC7B,uBAAkB,GAAlB,kBAAkB,CAAqB;IAChD,CAAC;IAEJ,aAAa;IACP,0CAAgB,GAAtB,UAAuB,IAAmB;;;;;4BACN,qBAAM,IAAI,CAAC,aAAa,CAAC,4BAA4B,CAAC,IAAI,CAAC,EAAA;;wBAAzF,MAAM,GAAwB,SAA2D;wBAC7F,sBAAO,MAAM,EAAC;;;;KACf;IAED,YAAY;IACN,sCAAY,GAAlB,UAAmB,UAA0B;;;;;4BAC1B,qBAAM,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,UAAU,CAAC,EAAA;;wBAA5D,QAAQ,GAAG,SAAiD;wBAClE,IAAI,CAAC,QAAQ;4BAAE,MAAM,IAAI,qBAAW,CAAC,eAAe,EAAE,GAAG,EAAE,oBAAoB,CAAC,CAAC;wBACjF,sBAAO,QAAQ,EAAC;;;;KACjB;IAED,SAAS;IACH,wCAAc,GAApB,UAAqB,QAA2B;;;;;4BACvB,qBAAM,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAA;;wBAA1D,cAAc,GAAG,SAAyC;wBAChE,sBAAO,cAAc,EAAC;;;;KACvB;IAED,SAAS;IACH,wCAAc,GAApB,UAAqB,EAAkB,EAAE,QAA2B;;;;;4BAC3C,qBAAM,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,EAAE,EAAE,QAAQ,CAAC,EAAA;;wBAAtE,cAAc,GAAG,SAAqD;wBAC5E,sBAAO,cAAc,EAAC;;;;KACvB;IAED,SAAS;IACH,wCAAc,GAApB,UAAqB,EAAkB;;;;4BACrC,qBAAM,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,EAAE,CAAC,EAAA;;wBAA3C,SAA2C,CAAC;;;;;KAC7C;IAED,iBAAiB;IACX,qDAA2B,GAAjC,UAAkC,UAA0B;;;;4BACnD,qBAAM,IAAI,CAAC,kBAAkB,CAAC,2BAA2B,CAAC,UAAU,CAAC,EAAA;4BAA5E,sBAAO,SAAqE,EAAC;;;;KAC9E;IACH,sBAAC;AAAD,CAAC,AAxCD,IAwCC;AAxCY,0CAAe","sourcesContent":["import { Types } from 'mongoose';\nimport CustomError from '../CustomError';\nimport { IAdvertisementModel } from '../models/Advertisement';\nimport { ICampaignDocument, ICampaignModel } from '../models/Campaign';\n\nexport class CampaignService {\n  constructor(\n    protected campaignModel: ICampaignModel,\n    protected advertisementModel: IAdvertisementModel\n  ) {}\n\n  // 캠페인 리스트 조회\n  async findCampaignList(page: string | null) {\n    let result: ICampaignDocument[] = await this.campaignModel.findCampaignListInPagination(page);\n    return result;\n  }\n\n  // 캠페인 상세 조회\n  async findCampaign(campaignId: Types.ObjectId) {\n    const campaign = await this.campaignModel.findCampaign(campaignId);\n    if (!campaign) throw new CustomError('NotFoundError', 404, 'Campaign not found');\n    return campaign;\n  }\n\n  // 캠페인 등록\n  async createCampaign(campaign: ICampaignDocument) {\n    const campaignRecord = await this.campaignModel.create(campaign);\n    return campaignRecord;\n  }\n\n  // 캠페인 수정\n  async modifyCampaign(id: Types.ObjectId, campaign: ICampaignDocument) {\n    const campaignRecord = await this.campaignModel.modifyCampaign(id, campaign);\n    return campaignRecord;\n  }\n\n  // 캠페인 삭제\n  async deleteCampaign(id: Types.ObjectId) {\n    await this.campaignModel.deleteCampaign(id);\n  }\n\n  // 캠페인의 광고 리스트 조회\n  async findAdvertisementInCampaign(campaignId: Types.ObjectId) {\n    return await this.advertisementModel.findAdvertisementInCampaign(campaignId);\n  }\n}\n"]}