{"version":3,"file":"advertisementLog.js","sourceRoot":"/","sources":["services/advertisementLog.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,+DAAyC;AAGzC;IACE,iCAAsB,qBAA6C;QAA7C,0BAAqB,GAArB,qBAAqB,CAAwB;IAAG,CAAC;IAEvE,WAAW;IACL,gDAAc,GAApB,UAAqB,eAA+B,EAAE,OAAe;;;;;;wBACnE,IAAI,CAAC,eAAe;4BAAE,MAAM,IAAI,qBAAW,CAAC,eAAe,EAAE,GAAG,EAAE,6BAA6B,CAAC,CAAC;wBACjG,IAAI,CAAC,OAAO;4BAAE,MAAM,IAAI,qBAAW,CAAC,eAAe,EAAE,GAAG,EAAE,qBAAqB,CAAC,CAAC;wBACjF,IAAI,OAAO,IAAI,YAAY,IAAI,OAAO,IAAI,OAAO;4BAC/C,MAAM,IAAI,qBAAW,CAAC,eAAe,EAAE,GAAG,EAAE,wBAAwB,CAAC,CAAC;wBAElD,qBAAM,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC;gCAC5D,eAAe,iBAAA;gCACf,OAAO,SAAA;gCACP,OAAO,EAAE,IAAI,IAAI,EAAE;6BACpB,CAAC,EAAA;;wBAJI,aAAa,GAAG,SAIpB;wBACF,sBAAO,aAAa,EAAC;;;;KACtB;IACH,8BAAC;AAAD,CAAC,AAjBD,IAiBC;AAjBY,0DAAuB","sourcesContent":["import { Types } from 'mongoose';\nimport CustomError from '../CustomError';\nimport { IAdvertisementLogDocument, IAdvertisementLogModel } from '../models/AdvertisementLog';\n\nexport class AdvertisementLogService {\n  constructor(protected advertisementLogModel: IAdvertisementLogModel) {}\n\n  // 광고 상세 조회\n  async createEventLog(advertisementId: Types.ObjectId, logType: String) {\n    if (!advertisementId) throw new CustomError('NotFoundError', 404, '\"advertisementId\" not found');\n    if (!logType) throw new CustomError('NotFoundError', 404, '\"logType\" not found');\n    if (logType != 'impression' && logType != 'reach')\n      throw new CustomError('NotFoundError', 404, '\"logType\" Invalid Code');\n\n    const advertisement = await this.advertisementLogModel.create({\n      advertisementId,\n      logType,\n      logDate: new Date(),\n    });\n    return advertisement;\n  }\n}\n"]}