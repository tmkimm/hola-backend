{"version":3,"file":"notification.js","sourceRoot":"/","sources":["services/notification.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAGA;IACE,6BAAsB,iBAAqC;QAArC,sBAAiB,GAAjB,iBAAiB,CAAoB;IAAG,CAAC;IAE/D,gBAAgB;IACV,+CAAiB,GAAvB,UAAwB,MAAsB;;;;;4BAC7B,qBAAM,IAAI,CAAC,iBAAiB,CAAC,iBAAiB,CAAC,MAAM,CAAC,EAAA;;wBAA/D,MAAM,GAAG,SAAsD;wBACrE,sBAAO,MAAM,EAAC;;;;KACf;IAED,YAAY;IACN,8CAAgB,GAAtB,UAAuB,GAAmB;;;;;4BACzB,qBAAM,IAAI,CAAC,iBAAiB,CAAC,gBAAgB,CAAC,GAAG,CAAC,EAAA;;wBAA3D,MAAM,GAAG,SAAkD;wBACjE,sBAAO,MAAM,EAAC;;;;KACf;IAED,oBAAoB;IACd,6CAAe,GAArB,UAAsB,MAAsB;;;;;4BAC3B,qBAAM,IAAI,CAAC,iBAAiB,CAAC,eAAe,CAAC,MAAM,CAAC,EAAA;;wBAA7D,MAAM,GAAG,SAAoD;wBACnE,sBAAO,MAAM,EAAC;;;;KACf;IAED,WAAW;IACL,8CAAgB,GAAtB,UAAuB,GAAmB;;;;4BACxC,qBAAM,IAAI,CAAC,iBAAiB,CAAC,gBAAgB,CAAC,GAAG,CAAC,EAAA;;wBAAlD,SAAkD,CAAC;;;;;KACpD;IAED,cAAc;IACR,qCAAO,GAAb,UAAc,YAA4B;;;;4BACxC,qBAAM,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,YAAY,CAAC,EAAA;;wBAAlD,SAAkD,CAAC;;;;;KACpD;IACH,0BAAC;AAAD,CAAC,AA9BD,IA8BC;AA9BY,kDAAmB","sourcesContent":["import { Types } from 'mongoose';\nimport { INotificationModel } from '../models/Notification';\n\nexport class NotificationService {\n  constructor(protected notificationModel: INotificationModel) {}\n\n  // 알림 리스트를 조회한다.\n  async findNotifications(userId: Types.ObjectId) {\n    const notice = await this.notificationModel.findNotifications(userId);\n    return notice;\n  }\n\n  // 알림을 조회한다.\n  async findNotification(_id: Types.ObjectId) {\n    const notice = await this.notificationModel.findNotification(_id);\n    return notice;\n  }\n\n  // 읽지 않은 알림 수를 조회한다.\n  async findUnReadCount(author: Types.ObjectId) {\n    const notice = await this.notificationModel.findUnReadCount(author);\n    return notice;\n  }\n\n  // 알림 읽음 처리\n  async readNotification(_id: Types.ObjectId) {\n    await this.notificationModel.readNotification(_id);\n  }\n\n  // 알림 전체 읽음 처리\n  async readAll(targetUserId: Types.ObjectId) {\n    await this.notificationModel.readAll(targetUserId);\n  }\n}\n"]}