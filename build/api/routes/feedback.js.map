{"version":3,"file":"feedback.js","sourceRoot":"/","sources":["api/routes/feedback.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,mCAAkE;AAClE,8CAAuD;AACvD,kDAAkE;AAElE,IAAM,KAAK,GAAG,IAAA,gBAAM,GAAE,CAAC;AAEvB,mBAAe,UAAC,GAAW;IACzB;;;QAGI;IACJ,GAAG,CAAC,GAAG,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC;IAE5B,SAAS;IACT,KAAK,CAAC,IAAI,CAAC,GAAG,EAAE,UAAgB,GAAY,EAAE,GAAa,EAAE,IAAkB;;;;;;wBACvE,KAAsB,GAAG,CAAC,IAAI,EAA5B,MAAM,YAAA,EAAE,OAAO,aAAA,CAAc;wBAE/B,uBAAuB,GAAG,IAAI,uBAAe,CAAC,mBAAa,CAAC,CAAC;wBAClD,qBAAM,uBAAuB,CAAC,gBAAgB,CAAC,MAAM,EAAE,OAAO,CAAC,EAAA;;wBAA1E,QAAQ,GAAG,SAA+D;wBAChF,sBAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAC;;;;KACvC,CAAC,CAAC;AACL,CAAC,EAAC","sourcesContent":["import { Router, Request, Response, NextFunction } from 'express';\nimport { FeedbackService } from '../../services/index';\nimport { Feedback as FeedbackModel } from '../../models/Feedback';\n\nconst route = Router();\n\nexport default (app: Router) => {\n  /*\n    글에 관련된 Router를 정의한다.\n    등록 / 수정 / 삭제하려는 사용자의 정보는 Access Token을 이용하여 처리한다.\n    */\n  app.use('/feedback', route);\n\n  // 피드백 등록\n  route.post('/', async function (req: Request, res: Response, next: NextFunction) {\n    const { rating, content } = req.body;\n\n    const FeedbackServiceInstance = new FeedbackService(FeedbackModel);\n    const feedback = await FeedbackServiceInstance.registerFeedback(rating, content);\n    return res.status(201).json(feedback);\n  });\n};\n"]}