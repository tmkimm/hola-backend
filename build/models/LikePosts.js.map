{"version":3,"file":"LikePosts.js","sourceRoot":"/","sources":["models/LikePosts.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,qCAAuD;AAevD,IAAM,eAAe,GAAG,IAAI,iBAAM,CAChC;IACE,MAAM,EAAE,EAAE,IAAI,EAAE,gBAAK,CAAC,QAAQ,EAAE,GAAG,EAAE,MAAM,EAAE;IAC7C,MAAM,EAAE,EAAE,IAAI,EAAE,gBAAK,CAAC,QAAQ,EAAE,GAAG,EAAE,MAAM,EAAE;CAC9C,EACD;IACE,UAAU,EAAE,IAAI;CACjB,CACF,CAAC;AAEF,eAAe,CAAC,OAAO,CAAC,GAAG,GAAG,UAAgB,MAAM,EAAE,MAAM;;;;wBAC1D,qBAAM,IAAI,CAAC,MAAM,CAAC;wBAChB,MAAM,QAAA;wBACN,MAAM,QAAA;qBACP,CAAC,EAAA;;oBAHF,SAGE,CAAC;;;;;CACJ,CAAC;AAEF,eAAe,CAAC,OAAO,CAAC,MAAM,GAAG,UAAgB,MAAM,EAAE,MAAM;;;;wBAC7D,qBAAM,IAAI,CAAC,SAAS,CAAC,EAAE,MAAM,QAAA,EAAE,MAAM,QAAA,EAAE,CAAC,EAAA;;oBAAxC,SAAwC,CAAC;;;;;CAC1C,CAAC;AAEF,IAAM,SAAS,GAAG,IAAA,gBAAK,EAAsC,WAAW,EAAE,eAAe,CAAC,CAAC;AAClF,8BAAS","sourcesContent":["import { Model, Schema, model, Types } from 'mongoose';\r\n\r\nexport interface ILikePosts {\r\n  viewDate: Date;\r\n  userId: Types.ObjectId;\r\n  postId: Types.ObjectId;\r\n}\r\n\r\nexport interface ILikePostsDocument extends ILikePosts, Document {}\r\n\r\nexport interface ILikePostsModel extends Model<ILikePostsDocument> {\r\n  add: (postId: Types.ObjectId, userId: Types.ObjectId) => void;\r\n  delete: (postId: Types.ObjectId, userId: Types.ObjectId) => void;\r\n}\r\n\r\nconst LikePostsSchema = new Schema<ILikePostsDocument>(\r\n  {\r\n    userId: { type: Types.ObjectId, ref: 'Post' },\r\n    postId: { type: Types.ObjectId, ref: 'Post' },\r\n  },\r\n  {\r\n    timestamps: true,\r\n  },\r\n);\r\n\r\nLikePostsSchema.statics.add = async function (postId, userId) {\r\n  await this.create({\r\n    userId,\r\n    postId,\r\n  });\r\n};\r\n\r\nLikePostsSchema.statics.delete = async function (postId, userId) {\r\n  await this.deleteOne({ userId, postId });\r\n};\r\n\r\nconst LikePosts = model<ILikePostsDocument, ILikePostsModel>('LikePosts', LikePostsSchema);\r\nexport { LikePosts };\r\n"]}