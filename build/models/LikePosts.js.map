{"version":3,"file":"LikePosts.js","sourceRoot":"/","sources":["models/LikePosts.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,qCAAuD;AAevD,IAAM,eAAe,GAAG,IAAI,iBAAM,CAChC;IACE,MAAM,EAAE,EAAE,IAAI,EAAE,gBAAK,CAAC,QAAQ,EAAE,GAAG,EAAE,MAAM,EAAE;IAC7C,MAAM,EAAE,EAAE,IAAI,EAAE,gBAAK,CAAC,QAAQ,EAAE,GAAG,EAAE,MAAM,EAAE;CAC9C,EACD;IACE,UAAU,EAAE,IAAI;CACjB,CACF,CAAC;AAEF,eAAe,CAAC,OAAO,CAAC,GAAG,GAAG,UAAgB,MAAM,EAAE,MAAM;;;;wBAC1D,qBAAM,IAAI,CAAC,MAAM,CAAC;wBAChB,MAAM,QAAA;wBACN,MAAM,QAAA;qBACP,CAAC,EAAA;;oBAHF,SAGE,CAAC;;;;;CACJ,CAAC;AAEF,eAAe,CAAC,OAAO,CAAC,MAAM,GAAG,UAAgB,MAAM,EAAE,MAAM;;;;wBAC7D,qBAAM,IAAI,CAAC,SAAS,CAAC,EAAE,MAAM,QAAA,EAAE,MAAM,QAAA,EAAE,CAAC,EAAA;;oBAAxC,SAAwC,CAAC;;;;;CAC1C,CAAC;AAEF,IAAM,SAAS,GAAG,IAAA,gBAAK,EAAsC,WAAW,EAAE,eAAe,CAAC,CAAC;AAClF,8BAAS","sourcesContent":["import { Model, Schema, Types, model } from 'mongoose';\n\nexport interface ILikePosts {\n  viewDate: Date;\n  userId: Types.ObjectId;\n  postId: Types.ObjectId;\n}\n\nexport interface ILikePostsDocument extends ILikePosts, Document {}\n\nexport interface ILikePostsModel extends Model<ILikePostsDocument> {\n  add: (postId: Types.ObjectId, userId: Types.ObjectId) => void;\n  delete: (postId: Types.ObjectId, userId: Types.ObjectId) => void;\n}\n\nconst LikePostsSchema = new Schema<ILikePostsDocument>(\n  {\n    userId: { type: Types.ObjectId, ref: 'Post' },\n    postId: { type: Types.ObjectId, ref: 'Post' },\n  },\n  {\n    timestamps: true,\n  }\n);\n\nLikePostsSchema.statics.add = async function (postId, userId) {\n  await this.create({\n    userId,\n    postId,\n  });\n};\n\nLikePostsSchema.statics.delete = async function (postId, userId) {\n  await this.deleteOne({ userId, postId });\n};\n\nconst LikePosts = model<ILikePostsDocument, ILikePostsModel>('LikePosts', LikePostsSchema);\nexport { LikePosts };\n"]}